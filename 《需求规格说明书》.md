# 一、   引言
## 1.1 目的
该文档首先给出项目的整体结构和功能结构概貌，试图从总体架构上给出整个系统的轮廓。同时对功能需求、性能需求进行了详细的描述。便于用户、开发人员进行理解和交流，反映出用户问题的结构，可以作为软件开发工作的基础和依据以及确认测试和验收的依据。

本文档面向多种读者对象：

（1）      项目经理：项目经理可以根据该文档了解预期产品的功能，并据此进行系统设计、项目管理。

（2）      设计员：对需求进行分析，并设计出系统，包括数据库的设计。

（3）      程序员：了解系统功能，编写《用户手册》。

（4）      测试员：根据本文档编写测试用例，并对软件产品进行功能性测试和非功能性测试。

（5）      用户：了解预期产品的功能和性能，并与分析人员一起对整个需求进行讨论和协商。

在阅读本文档时，首先要了解产品的功能概貌，然后可以根据自身的需要对每一功能进行适当的了解。


## 1.2 背景
	本次待开发的软件为“旅行日记”App。

用户通过使用本App，可以在旅行的过程中通过用户友好的App功能实现对旅行过程中的所见所闻以及个人的心得体会，还可以实现上传图片进行分享、点亮地图、路线规划、天气提醒等功能。

       系统后台管理人员通过在数据库方面对地图、交通、天气等信息实时进行管理和监视，保证信息的准确性与实时性。

## 1.3 定义
| 序号   | 缩写   | 定义   | 
|:----|:----:|:----|:----:|:----|:----:|
| 1   | App   | 应用程序，Application的缩写，一般指手机软件。   | 
| 2   | Android   | Android是一种基于Linux的自由及开放源代码的操作系统，主要使用于移动设备，如智能手机和平板电脑，由Google公司和开放手机联盟领导及开发。   | 

 

## 1.4 参考文献
[1] GB-T8567-2006，《计算机软件文档编制规范》[S]

[2].（美）Roger S.Pressman著，郑人杰等译.软件工程[M].第七版.北京：机械工业出版社,2011.

 

# 二、   项目概述
## 2.1 产品描述
       当今社会，在报团旅游横行的今天，人们往往抱着少花钱旅好游的心理盲目地在网上找旅行团。但旅行团质量往往良莠不齐，强行买纪念品、宰客等侵权行为时常发生。那么我们作为有很好判断能力的人，为什么不自主规划旅游线路，自己游，避免被无良旅行团坑骗呢？但这就存在一个问题，我们往往在查地图、查景点、打车、找饭店、找酒店等等往往浪费了许多宝贵的时间。此外，人们往往是经历了令人疲惫而漫长的旅行之后才回家根据照片用手机来发朋友圈或用电脑写感想。总而言之，旅行体验不好。

       本产品——“旅行日记”是为了解决当代人们出行旅游体验差强人意、无法有效地记录旅行所见所闻以及自己的体验的痛点问题而开发的一款Android App。该App可以有效地帮助用户增强出行旅游体验、有效地记录用户旅行所见所闻以及自己的体验，以及实现社交和分享等功能。

 

## 2.2 产品功能
软件管理人员场景：

（1）      对用户登录以及注册信息放入数据库；

（2）      实时对数据进行监控和更新；

（3）      定期对App进行维护和更新；

（4）      定期发送消息通知给用户



 

用户场景：

（1）      通过手机验证码注册账号；

（2）      输入密码，登录账号，如忘记密码可以通过手机找回；

（3）      使用其他用户登录；

（4）      关于我；

（5）      ![图片](https://shimo.im/fake.png)

 个人信息的修改；

（6）      时光轴；

（7）      发布动态，包括：添加文字、添加地点、添加图片、设置查看权限等；

（8）      发现功能，用户可以查看其他用户的动态；

## 2.3 用户特点
       本软件的最终用户为众多旅行人士，该用户群体普遍喜欢旅行并且乐于分享自己的旅行经历。由于本App操作简单，界面友好，所以只要是能够流畅使用手机的用户能够很快地适应该软件的所有基本操作。

       操作人员以及维护人员为计算机专业的学生组成的团队，了解该工作的整体流程，深入用户交流，便于调整软件功能，实现客户的各种需求。

       本App预计每日进行天气的大更新，每周进行一次用户的数据库大更新以及地图的更新。

## 2.4 一般约束
       进行本软件开发的工作的约束条件是：

1)     开发周期短，两个月的开发时间需要进行敏捷开发，通过三次迭代的过程基本实现初期构想。

2)     所采用的方法与技术有限：项目团队成员的技术水平不够成熟，需要在开发中并发学习多种技术和能力。

## 2.5 假设和依据
       本项目是否能够成功实施，主要取决于以下的条件：

（1）      团队成员的积极合作配合，为了项目的开发和实施，对个人时间进行合理规划同时为团队做出合理牺牲，配合队友完成任务。

（2）      学院教师提供完整详细的功能和性能需求资料，以便于团队对其进行分析，从而形成完善的软件需求。

（3）      团队掌握先进的能够适用于该项目的技术，这是系统的性能是否优化和项目能否成功的保证。

 

 

 

# 三、   具体需求
![图片](https://shimo.im/fake.png)

 首先引入类图明确该项目中的角色分类及其角色间的相互联系。

 

## 3.1 功能需求
### 3.1.1 系统角色及登陆
（1）      登录界面：

	输入用户名和密码即可登录，若为游客，可以注册新账户，还可以用微信、QQ、新浪账户注册。登录成功后跳转至关注页面。

 

（2）      注册界面：

       输入用户名和密码即可注册，注册成功后跳转至广场界面。

 

 

（3）      广场界面：

	在此界面用户可以看到热门的旅行动态，还可以查找感兴趣的驴友，话题与目的地。

在广场上点击用户头像可以跳转至该用户主页，在用户主页上可向该用户发送私信。

     

（4）      关注界面：

	此界面展示了用户关注的驴友的旅行动态。用户还可以点赞、收藏、评论该动态。

 ![](https://github.com/FPTeam/FP/blob/master/UI/%E5%85%B3%E6%B3%A8%E7%95%8C%E9%9D%A2.png)

（5）      私信界面：

	接收私信，向互相关注的用户发起聊天。

 

（6）      笔记记录界面：

       首先轻触屏幕开启旅行，然后跳转至编辑界面即可发表该次旅行的第一条动态；接下来一段时间内再次进入该页面时将直接跳转至编辑界面；最后当旅行结束时，打开编辑界面底部的“结束旅行”开关即表示当前要发表的记录为本次旅行的最后一条动态，该动态发表后旅行结束，系统将根据从旅行开启到结束这段时间内发布的所有动态生成完整的旅行记录，并在主页中时光轴页面展示。

     

**（7）****     ****个人主页界面：**

	包含个人动态、时光轴和关于我三个界面。点击右上角图标可进入设置界面。

	个人动态界面：展示用户自己的旅行动态，还可看到动态的点赞数、收藏数与评论。

	时光轴：系统根据旅行期间发表的动态自动生成的旅行记录，包括一篇旅行总结和旅行中每一天的动态聚合。

	关于我：以点亮地图的形式总结了用户旅行经过的地方，可以使用户更直观地观看到自己的旅行记录。

     

（8）      设置界面：

	包含个人信息修改部分和账号、密码、隐私设置，以及我们开发团队的联系方式。

	账号管理界面：可收录多个账号，用户可通过该界面实现切换账号，添加删除账号、退出登录等操作。

	修改密码界面：方便用户修改旧密码，设置新密码。

	隐私设置：在此界面，用户可以选择是否向其他用户显示个人主页及信息、是否仅显示三天的动态的隐私问题。

	联系我们界面：包含APP版本信息及团队的联系方式。

          

 

 

## 3.2 外部接口需求
### 3.2.1 用户接口
	本系统采用C/S架构，所有界面使用APP风格，且需要用户开启定位，记录用户位置信息。

### 3.2.2 硬件接口
	无特殊需求。

### 3.2.3 软件接口
	无特殊需求。

### 3.2.4 通信接口
	无特殊需求。

## 3.3 性能需求
用户个人信息：

| :------| :------ |
| 用户编号（UserId） | integer，主键，用户的唯一标识符，系统自动按序生成。 |
| 用户名（name）| varchar |
| 密码（password） | varchar |
| 自我介绍（UserInfo） | varchar，用户的自我介绍。可空。 |
| 性别（sex） | char，用户性别。 |
| 头像图片（head） | varchar，用户头像图片url。可空。 |

旅行日志记录：

| :------| :------ |
| 文章编号（PassageId） | integer，主键，文章的唯一标识符，系统自动按序生成。 |
| 文字内容（Content） | text，文章的文字内容。 |
| 图片路径（PostImgPath） | varchar，图片路径（对每一个用户建立一个文件夹，存储图片）。可空。 |
| 发布时间（PostTime） | datetime，文章的发布时间。 |
| 修改时间（ChangeTime） | datetime，文章最新一次的更改时间，可空。 |
| 发布地点（PostPlace） | varchar，文章的发布地点。 |
| 点赞数（LikeNumber） | integer，文章的点赞数。 |
| 评论数（CommentNumber） | integer，文章的评论数。 |
| 收藏数（CollectNumber） | integer，文章的收藏数。 |

标签
| :------| :------ |
| 标签名（TagName） | char，主键，(文章，标签)的标识符。 |
| 文章编号（TagPassageId） | integer主键，(文章，标签)的标识符。 |

社交平台——

点赞
| :------| :------ |
| 点赞用户编号（LikeUserId） | integer，外键，主键，评论的用户的唯一标识符。 |
| 点赞文章编号（LikePassageId） | integer，外键，主键，被评论的文章的唯一标识符。 |

评论

| :------| :------ |
| 评论内容（CommentText） | text。 |
| 评论时间（CommentTime） | datetime，主键。 |

收藏

| :------| :------ |
| 收藏用户编号（CollectUserId） | integer，外键，主键，收藏的用户的唯一标识符。 |
| 收藏文章编号（CollectPassageId） | integer，外键，主键，被收藏的文章的唯一标识符。 |
| 收藏时间（CollectTime） | datetime。|

关注

| :------| :------ |
| 关注编号（FollowId） | integer，主键，关注的唯一标识符。 |
| 关注用户编号（FollowUserId） | integer，外键，关注的用户的唯一标识符。 |
| 被关注用户编号（BeFollowUserId） | integer，外键，被关注的用户的唯一标识符。 |

## 3.4 属性
### 3.4.1 可用性
（1）        方便操作，操作流程合理。尽量从用户角度出发，以方便使用本产品。如：新增日志时，只需轻触屏幕，便可跳转到添加笔记界面；用户可以选择日志发布为公开还是私密；同时，可根据日志发布的地点，点亮地图等

（2）        控制必录入项。本系统能够对必须录入的项目进行控制，使用户能够确保信息录入的完整。同时对必录入项进行有效的统一的提示。

（3）        操作完成时有统一规范的提示信息。例如删除日志操作时，系统可提示警示框“您确认删除此日志吗？操作不可恢复！”，用户点击确认后，系统才执行删除操作，删除后可直接返回相关页面。

### 3.4.2 安全性
（1）        权限控制

用户只能查看个人信息，社区为公开。主页信息可以设置是否公开。

（2）        重要数据加密

对一些重要的数据按一定的算法进行加密，如用户口令、重要参数等。

（3）        记录日志

	本系统应该能够记录系统运行时所发生的所有错误，包括本机错误和网络错误。这些错误记录便于查找错误的原因。日志同时记录用户的关键性操作信息。

### 3.4.3 互动性
	用户发布的公开日志可以被其他用户收藏、评论、点赞等。同时，可在此平台认识更多的驴友，驴友间可相互私信，为驴友构建出一个沟通平台。

	

### 3.4.4 可维护性
	我们的系统发生故障后能够排除(或抑制)故障予以修复，并返回到原来正常运行状态。且具有接受对现有功能的改进，增加新功能的能力。

	

# 四、   验收验证标准
| **测试功能**   | **测试项**   | **操作**   | **检验点**   | **预期结果**   | 
|:----:|:----:|:----:|:----:|:----:|
| 登录功能 | 登录动作 | 输入信息错误或无输入 | 错误提示 | 提示输入正确用户名和密码 | 
|    |    | 输入正确账号密码 | 提示登入并跳转到主界面 | 跳转到个人主页界面 | 
| 注册功能 | 注册动作 | 注册 | 注册 | 跳转到注册界面 | 
| 底部导航功能 | 点击按钮导航 | 点击按钮 | 能否跳转到正确页面 | 跳转到正确页面 | 
| 个人主页界面 | 点击导航按钮 | 点击按钮 | 能否跳转到正确页面 | 跳转到正确页面 | 
|    | 设置按钮 |    |    |    | 
| 时光轴界面 | 时光轴 |    | 是否按时间时间顺序显示日志 | 显示正常 | 
| 关于我界面 | 我的足迹 |    | 是否标记了已游览过的地方 | 标记成功 | 
| 设置界面 | 点击各选项 | 点击按钮 | 能否跳转到正确页面 | 正常跳转 | 
|    | 修改信息 |    | 修改已有信息并保存 | 保存修改信息 | 
| 账号管理界面 | 增添删除账号 | 点击按钮 | 是否增添/删除此账号信息 | 增添/删除成功 | 
|    | 退出登录 | 点击按钮 | 是否退出此账号 | 退出成功 | 
| 修改密码界面 | 修改密码 | 输入 | 判断是否输入正确旧密码 | 输入正确旧密码 | 
|    |    | 点击修改确定按钮 | 是否成功修改密码 | 密码修改成功并保存 | 
| 隐私界面 | 修改个人隐私权限 | 点击按钮 | 是否成功修改个人隐私 | 隐私设置成功并保存 | 
| 添加记录界面 | 发布日志 | 输入 | 将输入内容存入数据库 | 存入数据库 | 
| discover页面 | 搜索 | 输入 | 显示与搜索有关的日志 | 显示正确 | 
|    | 关注、点赞、收藏 | 点击按钮 | 在关注、点赞与收藏表新建数据库元组 | 存入数据库 | 
|    | 发布评论 | 输入 | 将输入内容存入数据库 | 存入数据库 | 
| Home界面 | 展示已关注人员的旅行日志 |    | 显示已关注人员的旅行日志 | 显示正确 | 
|    | 收藏 | 点击按钮 | 在收藏表新建数据库元组 | 存入数据库 | 
|    | 发布评论 | 输入 | 将输入内容存入数据库 | 存入数据库 | 
| 私信界面 | 展示朋友的信息，点击跳转到私聊界面 | 点击 | 跳转到具体私聊界面 | 跳转成功 | 


 

## 
